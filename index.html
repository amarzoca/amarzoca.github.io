<!DOCTYPE html>
<html>
  <head>
    <style type="text/css">
      html, body { height: 100%; margin: 0; padding: 0;}
      #map-canvas { height: 90%; margin: 0; padding: 0;}
    </style>
    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDDfEGRgJCleog0v6QuMAAa6U-JMObrn68">
    </script>
    <script type="text/javascript">

      function getCoord() {
      	var lat = -34.397, lng = 150.644;
      	if (navigator.geolocation) {
        	navigator.geolocation.getCurrentPosition(function (res) {
        		lat = res.coords.latitude;
        		lng = res.coords.longitude;
        		initialize(lat,lng);
        	});
        	console.log("da");
    	} 
    	else { 
    		console.log("nu"); 
    		initialize(lat,lng);
    	}
  
      }
      function initialize(lat, lng) {
      	
        var mapOptions = {
          center: { lat: lat, lng: lng },
          zoom: 9
        };

        var map = new google.maps.Map(document.getElementById('map-canvas'),
            mapOptions);
      }

      google.maps.event.addDomListener(window, 'load', getCoord);
    </script>


  </head>
  <body>
<div id="map-canvas"></div>
  </body>
</html>